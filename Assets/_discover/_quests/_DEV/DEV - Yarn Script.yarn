// dev | DEV
// <scene_data>
// DO NOT EDIT THIS SECTION. It is auto-generated by the editor.
// in the Unity scene these elements are ready to be used in this script:
// TOPICS
//   - TODO baguette
// CARDS
// - food_baguette
//   - TODO capital_paris
//   - TODO food_flour
//   - TODO food_salt
//   - TODO food_water
//   - TODO food_yeast
//   - TODO person_baker
// TASKS
// - collect_apples
// - open_chest
//   - BROKEN id_task_configuration
// ACTIVITIES
//   - BROKEN activity_canvas
//   - BROKEN activity_jigsaw
//   - BROKEN activity_match
//   - BROKEN activity_memory
//   - BROKEN activity_money
//   - BROKEN activity_order
//   - BROKEN activity_piano
//   - BROKEN activity_test
//   - BROKEN id_activity_setting
//   - TODO canvas_beach_settings
//   - TODO jigsaw_toureiffel_settings
//   - TODO match_zoo_1_settings
//   - TODO memory_baguette_settings
//   - TODO money_level_1_settings
//   - TODO order_baguetterecipe_settings
//   - TODO piano_framartino_settings
// ACTABLE
// WORDS: peace
// </scene_data>
// Country: Italy - Firenze
// Content: Living document for testing Yarn features
// and documenting available commands

//--------------------------------------------
// INIT
// every quest starts with an INIT node
// to inizialize existing variables and declare new ones

// title of a node must be unique to this quest
// create a new node for anything that must be referenced multiple times
// that makes understanding of the flow easier
title: quest_start
// position is used to place the node in the Graph view in the Editor
position: 0,0
// group is used to organize the nodes in the Graph view in the Editor
group: docs

// tags are used to add metadata to the node
// actor is the speaking character, used mostly for voice overs
// - Default | female, neutral, clear diction, mid pitch, minimal emotion
// - SILENT | no spoken words, but can use non-verbal sounds
// - NARRATOR | male, warm, engaging, enthusiastic
// - SPECIAL | fx voice, like a robot or an animal
// - ADULT_F | warm, conversational, adaptable
// - ADULT_M | natural, medium pitch, flexible tone
// - SENIOR_F | warm, gentle rasp, storyteller cadence
// - SENIOR_M | deeper, slower, authoritative but kind
// - KID_F | bright, energetic, quick speech, high pitch
// - KID_M | playful, curious, lively tone, mid-high pitch

actor: NARRATOR

// color us used like this:
//  - red for important nodes like init and quest end
//  - blue for NPCs
//  - yellow for items
//  - green for tasks
//  - purple for activities
color: red

// type is used to identify special nodes like panel, Quiz
// - panel is fullscreen
// - panel_endgame is a special panel that shows the endgame screen
// - quiz shows a quiz with image choiches
type: panel
---
// these are the common variables
<<set $EASY_MODE = false>>
<<set $IS_DESKTOP = false>>
<<set $TOTAL_COINS = 0>>
<<set $COLLECTED_ITEMS = 0>>
<<set $MAX_PROGRESS = 0>>
<<set $CURRENT_PROGRESS = 0>>
<<set $CURRENT_ITEM = "">>

// here we declare new variables for this quest
<<declare $doorUnlocked = false>>

Welcome to the DEV quest! #line:0973921 
<<card food_baguette>>
You can use this quest to test features and commands. #line:0196a6d 
<<asset backpack>>
// shadow line example
You played the activity well! #line:0597e46 
===

title: DOCS_GLOBAL_VARIABLE
position: -200,179
group: docs
---
<<if $EASY_MODE >>
    You are in EASY MODE! #line:006edd6 
<<else>>    
    You are in NORMAL MODE! #line:02f8aaa 
<<endif>>
<<if $IS_DESKTOP >>
    You are on DESKTOP! #line:0afe11a 
<<else>>
    You are on MOBILE! #line:0245038 
<<endif>>
===

//--------------------------------------------
// DOCS COMMANDS
// these are the commands available in all Scripts
//--------------------------------------------

title: DOCS_ACTIONS
position: 6,179
group: docs
---
// execute the configured action in the actionManager
<<action action_id>>
===

title: DOCS_ACTIVITY
position: 4,346
group: docs
actor:
---
// launches an activity and set a yarn node to jump when completed
<<activity activity_setting_id return_node>>

// a third optional parameter can set the difficulty
<<activity activity_setting_id return_node tutorial>>
<<activity activity_setting_id return_node easy>>
<<activity activity_setting_id return_node normal>>
<<activity activity_setting_id return_node expert>>

// to get the result of a specific activity
// (0 = failed, >= 1 = completed)
<<if GetActivityResult("id_activity_setting") > 0>>
You played the activity well! #line:0872c3a 
<<endif>>

// this returns the result of the activity played
<<if GetActivityResult("") > 0>>
<<endif>>
===

title: DOCS_AREA
position: 11,552
group: docs
---
// set the area (walls), turnng off the previous one
<<area full_area>>
// switch off the current area.
<<area off>>
===

title: DOCS_ASSETS
position: 8,722
group: docs
---
// insted of a card, uses a direct Asset Id
<<asset id_asset>> 
// hides the current image
<<asset_hide>>
===

title: DOCS_CAMERA
position: 275,184
group: docs
---
// focus the camera on a target (interactable, area, map point)
<<camera_focus palace>>
// back to player
<<camera_reset>>
===

title: DOCS_CARDS
position: 552,173
group: docs
---
// uses the card Id to show a card
<<card food_baguette>>
// if accepts 2 additional parameters
// zoom - shows the card in zoom mode
// silent - shows the card without title / audio
<<card food_baguette zoom silent>>
// obviously can set just one of them
<<card food_baguette silent>>
<<card food_baguette zoom>>

// hides the current card
<<card_hide>>
===
title: DOCS_COOKIES
position: 552,173
group: docs
---
// adds cookies to the player (can be negative)
<<cookies_add 5>>

<<if GetCookies() >= 10>>
<<endif>>
===

title: DOCS_INVENTORY
position: 560,348
group: docs
actor: ADULT_F
---
// adds the item = card to the inventory (needs to be collectable!)
<<inventory id_card add>>
<<inventory id_card>> // same as add
<<inventory id_card remove>>

// Inventory has custom functions to check items
<<if item_count("flag_france") >= 2>>
    You have more than 2 Flags of France #line:08a1058 #native
    another line #line:0563122 
<<endif>>

<<if has_item("flag_france")>>
    You have a Flag of France #line:kidm_0b932d0 
<<endif>>

<<if has_item_at_least("flag_france", 3)>>
    You have at least 3 Flags of France #line:0d694f1 
<<endif>>

<<if can_collect("flag_france")>>
    You can collect a Flag of France #line:03da430 
<<endif>>

===

title: DOCS_TASKS
position: 280,553
group: docs
---
// starts a task
<<task_start id_task_configuration>>
// end a task... if you say nothing, its a success
<<task_end id_task_configuration>>
<<task_end id_task_configuration fail>>
<<task_end>> // or even without the id to end current task
===

title: DOCS_PARTY
position: 279,355
group: docs
---
// makes a NPC join a party following the player
<<party_join interactable_id>>
// asks a NPC to leave the party
<<party_release interactable_id>>
// if no id, remove all
<<party_release>> 
// the default formation in "line", but other are available
<<party_formation "line">>
<<party_formation "circle">>
<<party_formation "V">>

===

title: DOCS_QUEST
position: 278,717
group: docs
---
// end current quest and calculate stars based on progress
<<quest_end>>
// end the current quest with n (0, 1,2,3) stars
<<quest_end 3>>

===

title: DOCS_TARGET
position: 567,718
group: docs
---
// put a target element on a target
<<target target_chest>>
// removes any target
<<target off>>
===

title: DOCS_YARN_BUILTIN
position: 560,552
group: docs
---

// --- Yarn built-in commands ---
<<wait 3>> // waits for 3 seconds
<<stop>> // stops the current dialogue>>
===

title: test_dialog
position: 0,0
group: dialog
tags: noRepeatLastLine
---
Enter the house #shadow:0f92df5 
the fish is still here #line:08da0cf #customtag #native
-> Butter! #line:05edb53 
    <<card butter>>
    Good butter #line:090e4bd 
-> Option 2 #highlight #line:07243c2 
    You chose 2 #line:03649cf 
-> Option 3 #line:0c56f8c 
    You chose 3 #line:0278662 
-> Option 4 #line:0131912 
    You chose 4 #line:077dcad 
And this is fish #line:099d213 
<<card food_fish>>
<<card food_fish zoom>>
We like it! #line:04d8ba8 
=> First Line v1 #line:04a8afc 
=> First Line v2 #line:08cbb53 

===

title: test_inventory
position: -58,1478
group: inventory
---
I am hungry. how about some food? #line:0bdf566 
<<if has_item_at_least("food_baguette", 3)>>
    I need 3 baguettes! #line:00c341e 
    <<inventory food_baguette remove>>
    <<inventory food_baguette remove>>
    <<inventory food_baguette remove>>
<<else>>
    You don't have enough baguettes! #line:0c0d786 
    <<if has_item("food_fish")>>
        But you have some fish! #line:06c9370 
    <<endif>>
    Thank you. #line:0a7921b 
<<endif>>

===
title: got_baguette
position: 98,1674
group: inventory
---
You found a baguette! #line:dev_got_baguette 
<<inventory food_baguette add>>

===
title: got_fish
position: -139,1676
group: inventory
---
An healthy fish! #line:dev_got_fish 
<<inventory food_fish add>>

===
title: area_change
position: 755,1339
group: area 
---
Now i'll let you go around. #line:0aa3b5d 
<<area full_area>>

===
title: test_cards
position: 891,1161
group: cards 
---
Now i show you some cards #line:05edfca 
<<card food_fish>>
Please look at its details #line:0adbe4f 
<<card food_fish zoom>>
go back to the menu and browse the cards #line:017a620 
and now... #line:04ade19 
<<card food_baguette>>
Good, isnt' it? #line:04b02ce 
<<card_hide>>
GO back to work now. #line:0970ed1 

===
title: test_cookies
position: 552,173
group: cookies
---
Do you want 5 cookies? #line:0eb42ea 
-> Yes #line:027a7a8 
    Here you are! Enjoy! #line:0e5578d 
    <<cookies_add 5>>
-> No #line:0675243 
    Ok, no cookies for you! #line:0662df0 

<<if GetCookies() >= 10>>
    You have a lot of cookies! #line:0d2d1d7 
<<endif>>

===
title: test_camera
position: 1153,571
group: camera 
---
Now i show you the map of the playgroud #line:0c58bd8 
<<camera_focus map_tutorial>>
Do you see that point? #line:03e0224 
<<camera_focus map_tutorial_detail>>
Now Look at that palace! #line:0c1b2e4 
<<camera_focus palace>>
Nice isnt' it? #line:04daace 
<<camera_reset>>

===
title: test_actions
position: 1499,1880
tags:
group: actions
actor: KID_F
---
<<action activate_elevator>>
Action Pre "pre_actions" and action_post "post_actions" #line:0a67b25 
Do you want to open the Chest? #line:03cae39 
-> Yes #line:067231b 
    <<action open_chest>>
-> No #line:05d9657 
<<action stop_elevator>>
===

title: task_collect_apples
position: 1232,2135
tags:
group: tasks
color: green
---
<<if HasCompletedTask("collect_apples")>>
    Thank you! you finished this task #line:dev_task_collect_apples_2
<<elseif GetCollectedItem("collect_apples") > 0 >>
    I need more apples! #line:dev_task_collect_apples_3
<<else>>
    Collect 4 apples! #line:dev_task_collect_apples_1 
    <<task_start collect_apples task_collect_apples_done>>
<<endif>>
===

title: task_collect_apples_done
position: 1232,2135
tags:
group: tasks
color: green
---
Well done! Go back to the robot #line:dev_test_task_done_1 
===


title: task_open_chest
position: 1232,2135
tags:
group: tasks
color: green
---
<<if HasCompletedTask("open_chest")>>
    Thanks you! I needed that #line:073d718 
<<else>>
    Reach and open that chest! #line:0c31fab 
    <<area off>>
    <<target target_chest>>
    <<task_start open_chest task_open_chest_done>>
<<endif>>
===
title: task_open_chest_done
position: 1232,2135
tags:
group: tasks
color: green
---
Well done! You opened the chest.  #line:04e697a 
<<target off>>
===

title: item_chest
position: 1227,1876
tags:
group: actions
color: yellow
actor: NARRATOR
---
A good chest! #line:dev_item_chest_1 
<<action open_chest>>
===

title: npc_join_party
position: 500,2024
group: party
---
Do you want to join my party? #line:0b1f3e1 
-> Yes #line:0d1f4e3 
    <<party_join npc_party_1>>
    Now i'm following you! #line:019353a 
-> No #line:0a8e1c3 
    ok #line:0c4e4ec 
===


title: npc_leave_party
position: 491,1837
group: party
---
Want to change Party? #line:048e84e 
-> Formation Circle #line:00c2f84 
    <<party_formation circle >>
-> Formation Line #line:03d5333 
    <<party_formation line >>
-> Formation V #line:08ea78a 
    <<party_formation v >>
-> Release Party #line:01f2e9a 
    <<party_release>>
===


title: test_quiz
position: 1198,872
group: quiz
tags:
type: quiz
---
Calculate 3*2 #line:dev_test_quiz_1 
-> four #line:dev_test_quiz_2 #card:number_4
    <<jump test_quiz_wrong>>
-> six #line:dev_test_quiz_3 #card:bouillabaisse
    <<jump test_quiz_correct>>
-> eight #line:dev_test_quiz_4 #card:food_bread
    <<jump test_quiz_wrong>>
===

title: test_quiz_correct
position: 1376,810
group: quiz
---
YES! Correct. #line:0eb010e 
===

title: test_quiz_wrong
position: 1379,961
group: quiz

---
No. Do you want to try again? #line:0e2b8d7 
-> Yes #line:08ff2b9 
    <<jump test_quiz>>
-> No #line:042881c 
===


title: endgame
position: 1072,-56
group: endgame
color: red
---
You can end this quest with... #line:027bdca 
-> NOOOO i don't want end #line:014a238 
-> YES, let's end #line:0751111 
    <<quest_end>>
    <<jump close_game>>
===

title: close_game
position: 1115,235
group: endgame
color: red
type: panel_endgame
---

THis is the last message! goodybye #line:01c70f4 

===

title: NPCGIoconda
position: 1876,2837
assetimage: antura_hero
---
<<asset food_tomato>>
ciao, stefano #line:0c0329c 
ti piacciono le foto? #line:0b9b60d 
<<asset food_fish>>
-> vuoi arancia? #line:0c2bd41 
    <<asset food_orange>>
    <<action play_sfx>>
-> vuoi olio? #line:034ed48 
    <<asset food_oil>>
    <<action play_sfx>>
ora chiudo #line:0baeb5f 
<<asset_hide>>
-> Activity Order #line:0087ab1 
    <<activity activity_test>>
    <<jump activity_done>>
-> Suona sfx #line:0f02889 
    <<action play_sfx>>
-> Apri Baule #line:053f800 
    <<action open_chest>>

===
title: activity_done
position: 2132,2839
---
Activity finished. #line:0ce187d 
===

title: test_setactive
position: 1960,3050

---
Now i'll activate gameObject test_setactive #line:0ef2850 
<<SetActive TestSetActive_Crate>>
And now i'll switch it off #line:0a360b1 
<<SetActive TestSetActive_Crate false>>
Nice, isn't it? #line:06bd992 
===

title: NPCGreeting2
position: 1518,2842
assetimage: pirates
---
// <<activity activity_memory>>
Hallo #line:08ecb6c 
How are you? #line:00b7839 
-> Good #line:0991140 
    Good to hear that #line:0b3477e 
-> Bad #line:08607a4 
    Oh, I am sorry to hear that #line:0e6ecb2 
-> Neutral #line:05f3ea5 
    I see, I hope it gets better soon #line:0802baf 
What do you want to do with  coins? #line:0bcd506 
===
title: NPCGreeting3
position: 1245,2842
tags:
---

<<declare $coins = 0>>
What do you want to do with {$coins} coins?  #line:0a1994c 
-> Open the door #line:0e11bee 
 <<set $doorUnlocked = true>>
 The door is open #line:0cac01d 
-> Stay at home #line:07f4239 
 You stay at home #line:079b16e 
 <<set $coins = $coins + 10>>
===
title: Chest_01
position: 1356,3054
---
<<if $doorUnlocked>>
 The door is open #line:0e22a89 
 <<jump EntroInCasa>>
<<else>>
 The door is closed #line:05086bc
<<endif>>
===

title: note_for_the_editors
style: note
position: -288,28
---
Custom note #line:04d621e 
this is useful to leave notes for the editors #line:0520fb4 
like reminders of things to do #line:078fe99 
or things to check #line:0982259 
or things to fix #line:096379b 
===

title: EntroInCasa
position: 1639,3052
---
Enter the house #line:0f92df5 
===


title: coin_machine
position: 1243,2633
tags:
group: variables
---
I'll give you 100 coins. #line:06427f9 
<<set $TOTAL_COINS = $TOTAL_COINS + 100>>

===

title: test_mood
position: 1960,3050
tags: mood=HAPPY
actor: GUIDE_F
---
Happy Mood #line:0a6e648 
===

title: random_lines
position: 1246,2402
actor: SENIOR_F
group: random
---
Smart random Line 1 #line:07193d8 
Smart random Line 2 #line:06fe9a7 
Smart random Line 3 #line:032e777 
===

title: multiple_lines
position: 1545,2410
group: random
actor: KID_M
---
=> This is Hint 1 #line:0423295 
=> This is Hint 2 #line:00d69e5 
=> Hint 3 #line:08966ba 
===

title: activity_canvas
position: 1359,1253
group: activities
color: purple
---
<<if GetActivityResult("canvas_beach_settings") > 0>>
    You already completed canvas 1! #line:00dc701 
<<endif>>
Do you want to play Activity CANVAS?  #line:0532f99 
-> Yes #highlight #line:0103ffa 
    <<activity canvas_beach_settings activity_canvas_result>>
-> No #line:08a0b03 

===

title: activity_canvas2
position: 1359,1253
group: activities
color: purple
---
<<if GetActivityResult("canvas_beach2_settings") > 0>>
    You already completed canvas 2! #line:006bcc5 
<<endif>>
Do you want to play Activity CANVAS 2? #line:0fbe532 
-> Yes #highlight #line:03b9f38 
    <<activity canvas_beach2_settings activity_canvas2>>
-> No #line:09e165e 

===
title: activity_canvas_result
position: 1358,1395
group: activities
color: purple
---
<<if GetActivityResult("") > 0>>
You played  well! #line:04fd2ce 
<<else>>
Try again. #line:0797e1e 
<<endif>>
===

title: activity_jigsaw
position: 1619,1253
group: activities
color: purple
---
Activity JIGSAW PUZZLE!  #line:0d97ed9 
<<activity jigsaw_toureiffel_settings activity_jigsaw_result>>
===

title: activity_jigsaw_result
position: 1618,1397
group: activities
color: purple
---
<<if GetActivityResult("jigsaw_toureiffel_settings") > 0>>
You played JIGSAW PUZZLE activity well! #line:041075b 
<<else>>
Try again. #line:0921ca5 
<<endif>>
===

title: activity_memory
position: 1888,1254
group: activities
color: purple
---
<<if GetActivityResult("memory_baguette_settings") > 0>>
You played MEMORY activity well! #line:0940d53 
<<endif>>
Activity MEMORY! #line:0727144
<<activity memory_baguette_settings activity_memory_result expert>>
===

title: activity_memory_result
position: 1885,1400
group: activities
color: purple
---
<<if GetActivityResult("memory_baguette_settings") > 0>>
You played MEMORY activity well! #line:03121d7 
<<else>>
Try again. #line:0d146ef 
<<endif>>
===

title: activity_match
position: 2117,1253
group: activities
color: purple
---
Activity MATCH!  #line:0949b00 
<<activity match_zoo_1_settings activity_match_result>>
===

title: activity_match_result
position: 2113,1403
group: activities
color: purple
---
<<if GetActivityResult("match_zoo_1_settings") > 0>>
You played MATCH activity well! #line:0426701 
<<else>>
Try again. #line:07643ad 
<<endif>>
===

title: activity_money
position: 2353,1255
group: activities
color: purple
---
Activity MONEY!  #line:05b81d1 
<<activity money_level_1_settings activity_money_result>>
===

title: activity_money_result
position: 2359,1407
group: activities
color: purple
---
<<if GetActivityResult("money_level_1_settings") > 0>>
You played MONEY activity well! #line:0a63bb1 
<<else>>
Try again. #line:02b103d 
<<endif>>
===

title: activity_order
position: 2601,1256
group: activities
color: purple
---
Activity ORDER!  #line:08e289f 
<<activity order_baguetterecipe_settings activity_order_result>>
===

title: activity_order_result
position: 2592,1398
group: activities
color: purple
---
<<if GetActivityResult("order_baguetterecipe_settings") > 0>>
You played ORDER activity well! #line:05527db 
<<else>>
Try again. #line:04681e2 
<<endif>>
===



title: activity_piano
position: 2834,1257
group: activities
color: purple
---
Play this PIANO Melody! #line:0e11b77 
<<activity piano_framartino_settings activity_piano_result>>
===

title: activity_piano_result
position: 2834,1399
group: activities
color: purple
---
<<if GetActivityResult("piano_framartino_settings") > 0>>
You played the PIANO activity well! #line:0b9f1af 
<<else>>
Try again. #line:04c91cd 
<<endif>>
===
